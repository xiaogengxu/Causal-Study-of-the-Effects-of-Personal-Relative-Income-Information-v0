{% extends "political_pref/Page.html" %}
{% load otree static i18n %}

{% block content %}

    <link href="{% static 'nouislider.min.css' %}" rel="stylesheet">
    <script src="{% static 'wNumb.min.js' %}"></script>
    <script src="{% static 'nouislider.min.js' %}"></script>

    <style>
    /* Popup container - can be anything you want */
    .popup {
        width: 30px;
        padding-left: 8px;
        background: lightskyblue;
        display: inline-block;
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    /* The actual popup */
    .popup .popuptext {
        visibility: hidden;
        width: 500px;
        background-color: #555;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        {#padding: 8px 0;#}
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -450px;
    }

    /* Popup arrow */
    .popup .popuptext::after {
        content: "";
        position: absolute;
        alignment: center;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #555 transparent transparent transparent;
    }

    /* Toggle this class - hide and show the popup */
    .popup .show {
        visibility: visible;
        -webkit-animation: fadeIn 1s;
        animation: fadeIn 1s;
    }

    /* Add animation (fade in the popup) */
    @-webkit-keyframes fadeIn {
        from {opacity: 0;}
        to {opacity: 1;}
    }

    @keyframes fadeIn {
        from {opacity: 0;}
        to {opacity:1 ;}
    }
    </style>

    {% if form.errors %}
        <div class="alert alert-danger" role="alert">
            <h6 class="alert-heading">{{ form.non_field_errors }}</h6>
        </div>
    {% endif %}

    <p>{% blocktrans %}<b>In this section, we ask about your views on income redistribution.</b>
        Economic redistribution means that the state, through taxes and subsidies,
        make income in society more equal between the citizens that would have been the case
        without these taxes and subsidies.{% endblocktrans %}</p>
    <br>

    <div id="shuffle"></div>

    <div id="shuffle_1">

        <p>{% blocktrans %}In your opinion, what is the minimum disposable <b>monthly</b> income those worst off
            in Finland's society should have?{% endblocktrans %}</p>
        <p style="border:3px; border-style:solid; border-color: darkgrey; padding: 0.2em; border-radius: 3px">
        {% blocktrans %}By disposable income, we refer to the total after tax monthly income which contains income from labor and capital,
            as well as transfers and subsidies like public unemployment payments and pensions (i.e. disposable income).{% endblocktrans %}
        </p>
        <p>{% blocktrans %}
            Please think of a household of one adult and no children. Use the text box below to write your answer.{% endblocktrans %}</p>
        <input type="number" id="min_income" name="min_income">
        <label for="min_income">{% blocktrans %}euros{% endblocktrans %}</label>
        <br><br><br><br><br><br>

    </div>

    <script>
    // When the user clicks on div, open the popup
    function myFunction() {
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("show");
    }
    </script>

    <div id="shuffle_2">

        <p>{% blocktrans %}Think of tax rate as the percentage of the total capital and labor income
            that an individual directly pays to tax authorities.
            (For example, if you receive 30 000 euros of capital and labor income in total
            and pay 3000 euros in income taxes, your income tax rate is 10 %.)
            Please use the slider below to tell us
            how much you think the highest earning 1% of Finns should pay
            as a percentage of their total income.{% endblocktrans %}</p>

            <div type="range" class="noUiSlider" id="slider_income_tax"></div>
            {% blocktrans %}I think <b><span id="demo_income_tax"></span>%</b> of income of the highest earning
                1% of Finns should be paid in income tax.{% endblocktrans %}

            <input type="hidden" name="income_tax" value="" id="myRange_income_tax"/>
            <input type="hidden" name="check_income_tax" value="" id="id_check_income_tax"/>
            <br><br><br><br><br><br><br>

    </div>

    <div id="shuffle_3">

        <p>{% blocktrans %}To tax inheritance means that those who inherit pay a certain percent of the inherited amount in tax.
            In Finland, spouses and direct heirs face a tax of 19% on each additional euro of inheritance
            after 1 million euros. Should this top inheritance tax rate be increased or decreased?{% endblocktrans %}</p>

            <div type="range" class="noUiSlider" id="slider_inheritance_tax"></div>
            <input type="hidden" name="inheritance_tax" value="" id="myRange_inheritance_tax"/>
            <input type="hidden" name="check_inheritance_tax" value="" id="id_check_inheritance_tax"/>
            <br><br><br><br><br><br><br>

    </div>

    <div id="shuffle_4">

        <p>{% blocktrans %}In your opinion, should there be more or less redistribution of income
            in Finland than there currently is?{% endblocktrans %}</p>

        <div type="range" class="noUiSlider" id="slider_redistribution"></div>
        <input type="hidden" name="redistribution" value="" id="range_redistribute"/>
        <input type="hidden" name="check_slider_redistribute" value="" id="id_check_slider_redistribute"/>
        <br><br><br><br><br><br><br>

    </div>

    <div id="shuffle_5">

        <p>{% blocktrans %}Do you agree with the following statement:
            "People should take full advantage of the tax code to minimize their tax burden."{% endblocktrans %}</p>

        <div type="range" class="noUiSlider" id="slider_tax_burden"></div>
        <input type="hidden" name="tax_burden" value="" id="range_tax_burden"/>
        <input type="hidden" name="check_slider_tax_burden" value="" id="id_check_slider_tax_burden"/>
        <br><br><br><br><br><br><br>

    </div>

    <script>
        // Show the slider questions with the randomized order
        var show_sequence_list = [{{ redistribution_seq0|json }}, {{ redistribution_seq1|json }},
            {{ redistribution_seq2|json }}, {{ redistribution_seq3|json }}, {{ redistribution_seq4|json }}];

        var parent = document.getElementById("shuffle");

        var i;

        for (i = 0; i < show_sequence_list.length; i++ ) {
            if (show_sequence_list[i] === "min_income") {
                parent.appendChild(document.getElementById("shuffle_1"));
            }
            if (show_sequence_list[i] === "income_tax") {
                parent.appendChild(document.getElementById("shuffle_2"));
            }
            if (show_sequence_list[i] === "inheritance_tax") {
                parent.appendChild(document.getElementById("shuffle_3"));
            }
            if (show_sequence_list[i] === "redistribution") {
                parent.appendChild(document.getElementById("shuffle_4"));
            }
            if (show_sequence_list[i] === "tax_burden") {
                parent.appendChild(document.getElementById("shuffle_5"));
            }
        }
    </script>

    <div class="noUiSlider">
    <script>

    var slider_income_tax = document.getElementById('slider_income_tax');
    var slider_inheritance_tax = document.getElementById('slider_inheritance_tax');
    var slider_redistribution = document.getElementById('slider_redistribution');
    var slider_tax_burden = document.getElementById('slider_tax_burden');

    var income_tax_output = document.getElementById('myRange_income_tax');
    var inheritance_tax_output = document.getElementById('myRange_inheritance_tax');
    var redistribution_output = document.getElementById('range_redistribute');
    var tax_burden_output = document.getElementById('range_tax_burden');

    var check_income_tax_output = document.getElementById('id_check_income_tax');
    var check_inheritance_tax_output = document.getElementById('id_check_inheritance_tax');
    var check_redistribute_output = document.getElementById('id_check_slider_redistribute');
    var check_tax_burden_output = document.getElementById('id_check_slider_tax_burden');

    var slider1Value = document.getElementById('demo_income_tax');

    /* Space looks stupid because IE doesn't allow Array() */
    var pipFormats;
    var pipFormats1;
    var pipFormats2;

    if (document.getElementById('id_lang_1').checked) {
        pipFormats = {'0': '&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp' +
                '&nbsp&nbsp&nbsp&nbsp&nbsp'
           +'laskea'+'<br>'+'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp' +
                '&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'huomattavasti', '50': 'pitää ennallaan', '100': 'nostaa'
           +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'<br>'+'huomattavasti'
        +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'};
    }
    if (document.getElementById('id_lang_2').checked) {
        pipFormats = {'0': '&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
           +'sänkas'+'<br>'+'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'betydligt', '50': 'bevaras på samma nivå', '100': 'höjas'
           +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'<br>'+'betydligt'
        +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'};
    }

    if (document.getElementById('id_lang_1').checked) {
        pipFormats1 = {'0':
           '&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
           +'Paljon'+'<br>'
           +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'vähemmän', '100': 'Paljon'
           +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'<br>'+'enemmän'
        +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'};
    }
    if (document.getElementById('id_lang_2').checked) {
        pipFormats1 = {'0':
           '&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
           +'Mycket'+'<br>'
           +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'mindre', '100': 'Mycket'
           +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'<br>'+'mera'
        +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'};
    }

    if (document.getElementById('id_lang_1').checked) {
        pipFormats2 = {'0': '&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp' +
                'Täysin'+'<br>'+'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp' +
                'eri mieltä', '100': 'Täysin'
           +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'<br>'+'samaa mieltä'
        +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'};
    }
    if (document.getElementById('id_lang_2').checked) {
        pipFormats2 = {'0': '&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
           +'Instämmer'+'<br>'+'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'inte als', '100': 'Instämmer'
           +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
       +'<br>'+'i hög grad'
        +'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'};
    }

    // Initializing the sliders
    noUiSlider.create(slider_income_tax, {
    start: 0,
    step: 1,
    format: wNumb({decimals: 0}),
    // Disable animation on value-setting,
    // so the sliders respond immediately.
    animate: false,
    range: {
        'min': 0,
        'max': 100
    },
    });

    noUiSlider.create(slider_inheritance_tax, {
    start: 0,
    step: 1,
    format: wNumb({decimals: 0}),
    // Disable animation on value-setting,
    // so the sliders respond immediately.
    animate: false,
    range: {
        'min': 0,
        '50%': 50,
        'max': 100
    },
    pips: {
        mode: 'range',
        density: 50,
        format: {
            to: function(a) {
                return pipFormats[a];
            }
        }
    }
    });

    noUiSlider.create(slider_redistribution, {
        start: 0,
        step: 1,
        format: wNumb({decimals: 0}),
        // Disable animation on value-setting,
        // so the sliders respond immediately.
        animate: false,
        range: {
            'min': 0,
            'max': 100
        },
        pips: {
            mode: 'range',
            density: 100,
            format: {
                to: function(a) {
                    return pipFormats1[a];
                }
            }
        }
        });

    noUiSlider.create(slider_tax_burden, {
        start: 0,
        step: 1,
        format: wNumb({decimals: 0}),
        // Disable animation on value-setting,
        // so the sliders respond immediately.
        animate: false,
        range: {
            'min': 0,
            'max': 100
        },
        pips: {
            mode: 'range',
            density: 100,
            format: {
                to: function(a) {
                    return pipFormats2[a];
                }
            }
        }
        });

    // Update the input formfield values with the slider values
    slider_income_tax.noUiSlider.on('update', function (values, handle) {
        income_tax_output.value = values[handle];
    });

    slider_inheritance_tax.noUiSlider.on('update', function (values, handle) {
        inheritance_tax_output.value = values[handle];
    });

    slider_redistribution.noUiSlider.on('update', function (values, handle) {
        redistribution_output.value = values[handle];
    });

    slider_tax_burden.noUiSlider.on('update', function (values, handle) {
        tax_burden_output.value = values[handle];
    })

    /* Show and update the slider value only when the handle is touched */
    slider_income_tax.noUiSlider.on('slide', function () {
        slider_income_tax.noUiSlider.on('update', function (values, handle) {
        slider1Value.innerHTML = values[handle];
        });
    });
    </script>
    </div>

    <style>
        .otree-form-errors {
            visibility: hidden;
            display: none;
        }
        .popup {
            border: 2px solid gray;
            border-radius: 3px;
            display: inline-grid;
            position: relative;
        }
        .noUi-slide {
            width: 100%; /* Width of the outside container */
        }

        /* The value of handle shows only when touching the handle. */
        .noUi-tooltip {
            display: none;
        }
        .noUi-active .noUi-tooltip {
            display: block;
        }
        .noUi-handle {
            display: none;
        }
        .noUi-pips {
            margin-top: -5px;
        }
        .noUi-marker {
            margin-top: -4px;
        }
        .noUi-value {
            margin-top: -11px;
        }
    </style>

    <script>
        $(document).ready(function () {
            var handle_style1 = document.getElementById("slider_income_tax").querySelector('.noUi-handle');
            var handle_style2 = document.getElementById("slider_inheritance_tax").querySelector('.noUi-handle');
            var handle_style3 = document.getElementById("slider_redistribution").querySelector('.noUi-handle');
            var handle_style4 = document.getElementById("slider_tax_burden").querySelector('.noUi-handle');

            slider_income_tax.noUiSlider.on('slide', function () {
                handle_style1.style.display = 'block';
                handle_style1.style.background = '#007bff';
                check_income_tax_output.value = 1;
            });

            slider_inheritance_tax.noUiSlider.on('slide', function () {
                handle_style2.style.display = 'block';
                handle_style2.style.background = '#007bff';
                check_inheritance_tax_output.value = 1;
            });

            slider_redistribution.noUiSlider.on('slide', function () {
                handle_style3.style.display = 'block';
                handle_style3.style.background = '#007bff';
                check_redistribute_output.value = 1;
            });

            slider_tax_burden.noUiSlider.on('slide', function () {
                handle_style4.style.display = 'block';
                handle_style4.style.background = '#007bff';
                check_tax_burden_output.value = 1;
            });
        });
    </script>

    {% next_button %}

    <br><br>
    {% if app1 == 'political_pref' %}
        {% if condition == 'control' %}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="25"
                    aria-valuemin="0" aria-valuemax="100" style="width:25%">
                    <span class="sr-only">25% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="28"
                    aria-valuemin="0" aria-valuemax="100" style="width:28%">
                    <span class="sr-only">28% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="32"
                    aria-valuemin="0" aria-valuemax="100" style="width:32%">
                    <span class="sr-only">32% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="37"
                    aria-valuemin="0" aria-valuemax="100" style="width:37%">
                    <span class="sr-only">37% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="42"
                    aria-valuemin="0" aria-valuemax="100" style="width:42%">
                    <span class="sr-only">42% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="47"
                    aria-valuemin="0" aria-valuemax="100" style="width:47%">
                    <span class="sr-only">47% Complete</span>
                </div>
                </div>
            {% endif %}

        {% elif condition == 'assigned'%}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="26"
                    aria-valuemin="0" aria-valuemax="100" style="width:26%">
                    <span class="sr-only">26% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="29"
                    aria-valuemin="0" aria-valuemax="100" style="width:29%">
                    <span class="sr-only">29% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="34"
                    aria-valuemin="0" aria-valuemax="100" style="width:34%">
                    <span class="sr-only">34% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="38"
                    aria-valuemin="0" aria-valuemax="100" style="width:38%">
                    <span class="sr-only">38% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="43"
                    aria-valuemin="0" aria-valuemax="100" style="width:43%">
                    <span class="sr-only">43% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="48"
                    aria-valuemin="0" aria-valuemax="100" style="width:48%">
                    <span class="sr-only">48% Complete</span>
                </div>
                </div>
            {% endif %}

        {% else %}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="28"
                    aria-valuemin="0" aria-valuemax="100" style="width:28%">
                    <span class="sr-only">28% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="32"
                    aria-valuemin="0" aria-valuemax="100" style="width:32%">
                    <span class="sr-only">32% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="35"
                    aria-valuemin="0" aria-valuemax="100" style="width:35%">
                    <span class="sr-only">35% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="40"
                    aria-valuemin="0" aria-valuemax="100" style="width:40%">
                    <span class="sr-only">40% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="45"
                    aria-valuemin="0" aria-valuemax="100" style="width:45%">
                    <span class="sr-only">45% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="50"
                    aria-valuemin="0" aria-valuemax="100" style="width:50%">
                    <span class="sr-only">50% Complete</span>
                </div>
                </div>
            {% endif %}
        {% endif %}
    {% endif %}

    {% if app3 == 'political_pref' %}
        {% if condition == 'control' %}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="49"
                    aria-valuemin="0" aria-valuemax="100" style="width:49%">
                    <span class="sr-only">49% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="53"
                    aria-valuemin="0" aria-valuemax="100" style="width:53%">
                    <span class="sr-only">53% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="56"
                    aria-valuemin="0" aria-valuemax="100" style="width:56%">
                    <span class="sr-only">56% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="61"
                    aria-valuemin="0" aria-valuemax="100" style="width:61%">
                    <span class="sr-only">61% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="67"
                    aria-valuemin="0" aria-valuemax="100" style="width:67%">
                    <span class="sr-only">67% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="72"
                    aria-valuemin="0" aria-valuemax="100" style="width:72%">
                    <span class="sr-only">72% Complete</span>
                </div>
                </div>
            {% endif %}

        {% elif condition == 'assigned'%}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="50"
                    aria-valuemin="0" aria-valuemax="100" style="width:50%">
                    <span class="sr-only">50% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="53"
                    aria-valuemin="0" aria-valuemax="100" style="width:53%">
                    <span class="sr-only">53% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="56"
                    aria-valuemin="0" aria-valuemax="100" style="width:56%">
                    <span class="sr-only">56% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="62"
                    aria-valuemin="0" aria-valuemax="100" style="width:62%">
                    <span class="sr-only">62% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="67"
                    aria-valuemin="0" aria-valuemax="100" style="width:67%">
                    <span class="sr-only">67% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="72"
                    aria-valuemin="0" aria-valuemax="100" style="width:72%">
                    <span class="sr-only">72% Complete</span>
                </div>
                </div>
            {% endif %}

        {% else %}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="52"
                    aria-valuemin="0" aria-valuemax="100" style="width:52%">
                    <span class="sr-only">52% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="55"
                    aria-valuemin="0" aria-valuemax="100" style="width:55%">
                    <span class="sr-only">55% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="58"
                    aria-valuemin="0" aria-valuemax="100" style="width:58%">
                    <span class="sr-only">58% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="63"
                    aria-valuemin="0" aria-valuemax="100" style="width:63%">
                    <span class="sr-only">63% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="68"
                    aria-valuemin="0" aria-valuemax="100" style="width:68%">
                    <span class="sr-only">68% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="73"
                    aria-valuemin="0" aria-valuemax="100" style="width:73%">
                    <span class="sr-only">73% Complete</span>
                </div>
                </div>
            {% endif %}
        {% endif %}
    {% endif %}

    {% if app1 == 'job_salary' and app2 == 'political_pref' %}
        {% if condition == 'control' %}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="44"
                    aria-valuemin="0" aria-valuemax="100" style="width:44%">
                    <span class="sr-only">44% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="47"
                    aria-valuemin="0" aria-valuemax="100" style="width:47%">
                    <span class="sr-only">47% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="51"
                    aria-valuemin="0" aria-valuemax="100" style="width:51%">
                    <span class="sr-only">51% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="56"
                    aria-valuemin="0" aria-valuemax="100" style="width:56%">
                    <span class="sr-only">56% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="61"
                    aria-valuemin="0" aria-valuemax="100" style="width:61%">
                    <span class="sr-only">61% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="67"
                    aria-valuemin="0" aria-valuemax="100" style="width:67%">
                    <span class="sr-only">67% Complete</span>
                </div>
                </div>
            {% endif %}

        {% elif condition == 'assigned'%}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="45"
                    aria-valuemin="0" aria-valuemax="100" style="width:45%">
                    <span class="sr-only">45% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="48"
                    aria-valuemin="0" aria-valuemax="100" style="width:48%">
                    <span class="sr-only">48% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="52"
                    aria-valuemin="0" aria-valuemax="100" style="width:52%">
                    <span class="sr-only">52% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="57"
                    aria-valuemin="0" aria-valuemax="100" style="width:57%">
                    <span class="sr-only">57% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="62"
                    aria-valuemin="0" aria-valuemax="100" style="width:62%">
                    <span class="sr-only">62% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="67"
                    aria-valuemin="0" aria-valuemax="100" style="width:67%">
                    <span class="sr-only">67% Complete</span>
                </div>
                </div>
            {% endif %}

        {% else %}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="47"
                    aria-valuemin="0" aria-valuemax="100" style="width:47%">
                    <span class="sr-only">47% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="50"
                    aria-valuemin="0" aria-valuemax="100" style="width:50%">
                    <span class="sr-only">50% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="53"
                    aria-valuemin="0" aria-valuemax="100" style="width:53%">
                    <span class="sr-only">53% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="58"
                    aria-valuemin="0" aria-valuemax="100" style="width:58%">
                    <span class="sr-only">58% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="63"
                    aria-valuemin="0" aria-valuemax="100" style="width:63%">
                    <span class="sr-only">63% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="68"
                    aria-valuemin="0" aria-valuemax="100" style="width:68%">
                    <span class="sr-only">68% Complete</span>
                </div>
                </div>
            {% endif %}
        {% endif %}
    {% endif %}

    {% if app1 == 'just_world' and app2 == 'political_pref' %}
        {% if condition == 'control' %}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="30"
                    aria-valuemin="0" aria-valuemax="100" style="width:30%">
                    <span class="sr-only">30% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="33"
                    aria-valuemin="0" aria-valuemax="100" style="width:33%">
                    <span class="sr-only">33% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="37"
                    aria-valuemin="0" aria-valuemax="100" style="width:37%">
                    <span class="sr-only">37% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="42"
                    aria-valuemin="0" aria-valuemax="100" style="width:42%">
                    <span class="sr-only">42% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="47"
                    aria-valuemin="0" aria-valuemax="100" style="width:47%">
                    <span class="sr-only">47% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="53"
                    aria-valuemin="0" aria-valuemax="100" style="width:53%">
                    <span class="sr-only">53% Complete</span>
                </div>
                </div>
            {% endif %}

        {% elif condition == 'assigned'%}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="31"
                    aria-valuemin="0" aria-valuemax="100" style="width:31%">
                    <span class="sr-only">31% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="34"
                    aria-valuemin="0" aria-valuemax="100" style="width:34%">
                    <span class="sr-only">34% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="38"
                    aria-valuemin="0" aria-valuemax="100" style="width:38%">
                    <span class="sr-only">38% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="43"
                    aria-valuemin="0" aria-valuemax="100" style="width:43%">
                    <span class="sr-only">43% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="48"
                    aria-valuemin="0" aria-valuemax="100" style="width:48%">
                    <span class="sr-only">48% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="53"
                    aria-valuemin="0" aria-valuemax="100" style="width:53%">
                    <span class="sr-only">53% Complete</span>
                </div>
                </div>
            {% endif %}

        {% else %}
            {% if ind_Redistribution == 0 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="33"
                    aria-valuemin="0" aria-valuemax="100" style="width:33%">
                    <span class="sr-only">33% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 1 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="37"
                    aria-valuemin="0" aria-valuemax="100" style="width:37%">
                    <span class="sr-only">37% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 2 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="40"
                    aria-valuemin="0" aria-valuemax="100" style="width:40%">
                    <span class="sr-only">40% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 3 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="45"
                    aria-valuemin="0" aria-valuemax="100" style="width:45%">
                    <span class="sr-only">45% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 4 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="50"
                    aria-valuemin="0" aria-valuemax="100" style="width:50%">
                    <span class="sr-only">50% Complete</span>
                </div>
                </div>
            {% elif ind_Redistribution == 5 %}
                <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="55"
                    aria-valuemin="0" aria-valuemax="100" style="width:55%">
                    <span class="sr-only">55% Complete</span>
                </div>
                </div>
            {% endif %}
        {% endif %}
    {% endif %}

{% endblock %}
